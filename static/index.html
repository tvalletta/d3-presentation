<!doctype html>
<html>
    <head>
        <title>D3</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="author" content="Thomas A. Valletta" />
        <link href="css/impress.css" rel="stylesheet" />
        <link href="css/prettify.css" rel="stylesheet" />
        <link href="css/presentation.css" rel="stylesheet" />
        <script type="text/javascript" src='js/jquery-1.8.2.min.js'></script>
        <script type="text/javascript" src='js/prettify.js'></script>
    </head>
    <body onload='prettyPrint()'>
		<p class="fallback-message">
		    Your browser doesn't support impress.js.  Try Chrome or Safari.
		</p>
		<div class="help">
			<h3>Need Help?</h3>
			<h6>Use the arrow keys move forward and back.</h6>
		</div>
		<div id="impress">

			<div id="title" class="step" data-x="-92" data-y="-1200" data-z="0">
                <h1>D3</h1>
			</div>

      <!-- Outline -->

            <div class="step clarify" data-x="-2400" data-y="1000" data-z="0">
                <h2>Outline</h2>
            </div>

            <div class="step" data-x="-2300" data-y="1150" data-z="-100">
                SVG
            </div>

            <div class="step" data-x="-2300" data-y="1250" data-z="-100">
                D3
            </div>

            <div class="step" data-x="-2200" data-y="1333" data-z="-200">
                SVG
            </div>

            <div class="step" data-x="-2200" data-y="1400" data-z="-200">
                Data
            </div>

            <div class="step" data-x="-2300" data-y="1500" data-z="-100">
                Something else
            </div>

        <!-- Zoom Out -->

            <div class="step">
                SVG is more important than ever.

                1. Because of multiple display sizes
                    a. Mobile and handheld devices
                    b. High pixel density displays
                2. Because, like HTML, they are document based
                    a. They can be edited like HTML
                        i. for changing color
                        ii. for transitioning attributes
                    b. They can be styled like HTML using CSS

            </div>

            <div class="step invisible" data-x="0" data-y="0" data-z="5000">
            </div>

		</div>
    <script type="text/javascript" src="js/impress.js"></script>
    <script>
    	var el = document.getElementById("impress");
    	impress().init();

    	var timer;
    	var focusList = [];
    	var $help = $('.help');
    	var activeGroup;

    	el.addEventListener("impress:stepenter", function (event) {
    		setTimeout(function() {
	    		var $evt = $(event.target);
	    		var focus = $evt.attr('data-focus');
	    		if (focus) {
	    			var $target = $('.focus[data-focus-id="' + focus + '"]');
	    			if ($target[0]) {
		    			$target.addClass('clarify');
		    			focusList.push($target);
	    			}
	    		}
	    		var onenter = $evt.attr('data-onenter');
	    		if (window[onenter]) window[onenter]();
    		}, 200);
        }, false);

    	el.addEventListener("impress:stepleave", function (event) {
    		setTimeout(function() {
	    		var $evt = $(event.target);
	    		
	    		var stay = $evt.attr('data-stay');
	    		if (stay) {
	    			$evt.addClass('stay');
	    		}

	    		// Group Stuff
	    		var group = $evt.attr('data-group');
	    		if (group) {
		    		if (activeGroup) {
		    			if (activeGroup === group) {
		    				$evt.addClass('stay');
		    			}
		    			else {
		    				$('[data-group="' + activeGroup + '"]').removeClass('stay');
		    			}
		    		}
		    		else {
		    			activeGroup = group;
		    			$evt.addClass('stay');
		    		}
	    		}
	    		else if (activeGroup) {
					$('[data-group="' + activeGroup + '"]').removeClass('stay')
	    		}

	    		for (var i = 0, cnt = focusList.length; i < cnt; i++) {
	    			focusList[i].removeClass('clarify');
	    		}
	    		focusList = [];

	    		var onleave = $evt.attr('data-onleave');
	    		if (window[onleave]) window[onleave]();
	    	}, 200);
        }, false);

    	function onGuidedEnter() {
    		timer = setTimeout(function() {
	    		$help.addClass('show');
    		}, 3000);
    	}
    	function onGuidedLeave() {
    		clearTimeout(timer);
			$help.removeClass('show');
    	}

    	function playVid() {
            var video = document.getElementById('video');
            video.addEventListener('canplay', function(e) {
                this.play();
            }, false);
        }

    	function dark() {
    		setTimeout(function() {
	    		$('body').addClass('dark').removeClass('cloudy');
    		}, 1);
    	}

    </script>
    </body>
</html>